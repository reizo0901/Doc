0. ■座学  
  0-1. ・WEBサーバーの概要について
  0-2. ・今回作成するAWSリソースの名称や機能について
  0-3. ※座学は手順書と別に違うファイルで資料作ろうかなと思います
1. AWSコンソールへログイン  
2. 仮想ネットワークの構築  
  2-1. VPC作成
  2-2. VPCにサブネットを作成
  2-3. インターネットゲートウェイ作成、VPCに紐づけ
  2-4. ルートテーブル作成
    2-4-1. ルートテーブルの設定
    2-4-2. ルートテーブルを編集
  2-4-3. サブネットの関連付けを編集
3. EC2(a)の構築  
  3-1. AWS EC2(インスタンス)起動
  3-2. 名前とタグの追加
  3-3. アプリケーションおよびOSイメージ(AMI)の指定
    →Amazon Linux 2 AMI(HVM) - Kernel 5.10 ,SSD Volume Typeを選択
  3-4. インスタンスタイプの指定
  3-5. キーペア(ログイン用の鍵)作成
  3-6. VPC、サブネット設定
    →作成したVPCを必ず選択すること
  3-7. ストレージを設定
  3-8. インスタンスを起動
  3-9. EC2(a)にElasticIPを割り当てる

4. EC2(a)にElastic IP アドレス割り当てと関連付け
  1.[新しいアドレスの割り当て]をクリック
  2.[Elastic IPアドレスを割り当てる]画面で、以下を設定し、[割り当て]をクリック
    [Elastic IP アドレスの設定]
      ネットワークボーダーグループ
        ap-northeast-1
      パブリック IPv4アドレスプール
        ●Amazon の IPv4アドレスプール
        〇AWSアカウントで持ち込むパブリックIPv4アドレス(プールが見つからなかったためにオプションが無効化されています。)
        〇顧客所有のIPv4アドレスのプール(顧客所有のプールが見つからなかったためオプションが無効です。)
      グローバル静的IPアドレス
        ※設定不要
    [タグ - オプション]
      [新規タグを追加]をクリック
      [キー] Name
      [値] eip-a-<※ローマ字表記の名前>
      [新規タグを追加]をクリック
      [キー]author
      [値]giken.tarou
  3.[Elastic IP アドレス]画面右上の、[このElastic IPアドレスを関連付ける]をクリック
  4.[Elastic IP アドレスの関連付け]画面で以下を設定し、[関連付ける]をクリック
    [リソースタイプ]
      ●インスタンス
      〇ネットワークインターフェイス
    [インスタンス]
      [EC2-Nginx-a-<※ローマ字表記の名前>]
    [プライベート IP アドレス]
      ※入力しない
    [再関連付け]
      ※チェックなし

↓リナンバリングが必要！！

5. Webサーバ(1a)構築  
  5-1. Amazon EC2にSSH接続
    5-1-1. キーペアのアクセス権の変更
    5-1-2. Amazon EC2にSSHで接続
    →パブリックIPアドレスを確認する画面を載せる？
  5-2. Web(Nginx)をインストール
  5-3. Nginxを起動
    →enabledになっていることを確認する。←これをしないと後で面倒くさいことになる。
    →rebootコマンドを一度発行する。
  5-4. ブラウザでサイト(Webサーバ)に接続
  5-5. サイト(1a)コンテンツを修正
  5-6. ブラウザでサイト(Webサーバ)に接続
    →表示内容が変更されたことを確認する。

6. 作成したインスタンスからマイAMI(独自アマゾンマシーンイメージ)を作成
  6-1. Amazon EC2(a)インスタンスの停止
    EC2のリソース画面から[インスタンス]をクリック
    インスタンスの一覧から[EC2-Nginx-a-<※ローマ字表記の名前>]のチェックを入れ、[インスタンスの状態]から[インスタンス停止]をクリック
    一覧の該当のインスタンスの[インスタンスの状態]が[停止中]になっていることを確認
  6-2. Amazon EC2(a)インスタンスからマイAMIを作成
    インスタンスの一覧から[EC2-Nginx-a-<※ローマ字表記の名前>]の[インスタンスID]をクリック
    メニューから[アクション]>[イメージとテンプレート]>[イメージを作成]をクリック
    [イメージを作成]画面で以下を設定し、[イメージ]を作成をクリック
      [イメージ名]
        [ami-<※ローマ字表記の名前>]
      [イメージの説明 - オプション]
        [ami-<※ローマ字表記の名前>]
      [再起動しない]
        □有効化
      [インスタンスボリューム]
        [サイズ] 8
      [タグ - オプション] author
        [キー]
        [値 - オプション] giken.tarou

7. EC2(c)構築  
  7-1. Amazon EC2(インスタンス)起動
  7-2. 名前とタグの追加
  7-3. アプリケーションおよびOSイメージ(AMI)の指定
  7-4. インスタンスタイプの指定
  7-5. キーペア(ログイン用の鍵)設定
  7-6. VPC、サブネット設定
    →VPCの選択をちゃんとする。
    →セキュリティグループルールを追加をクリックする画像を入れる。
  7-8. ストレージを設定
  7-9. インスタンスを起動

8. EC2(a)にElastic IP アドレス割り当てと関連付け
  1.[新しいアドレスの割り当て]をクリック
  2.[Elastic IPアドレスを割り当てる]画面で、以下を設定し、[割り当て]をクリック
    [Elastic IP アドレスの設定]
      ネットワークボーダーグループ
        ap-northeast-1
      パブリック IPv4アドレスプール
        ●Amazon の IPv4アドレスプール
        〇AWSアカウントで持ち込むパブリックIPv4アドレス(プールが見つからなかったためにオプションが無効化されています。)
        〇顧客所有のIPv4アドレスのプール(顧客所有のプールが見つからなかったためオプションが無効です。)
      グローバル静的IPアドレス
        ※設定不要
    [タグ - オプション]
      [新規タグを追加]をクリック
      [キー] Name
      [値] eip-c-<※ローマ字表記の名前>
      [新規タグを追加]をクリック
      [キー]author
      [値]giken.tarou
  3.[Elastic IP アドレス]画面右上の、[このElastic IPアドレスを関連付ける]をクリック
  4.[Elastic IP アドレスの関連付け]画面で以下を設定し、[関連付ける]をクリック
    [リソースタイプ]
      ●インスタンス
      〇ネットワークインターフェイス
    [インスタンス]
      [EC2-Nginx-a-<※ローマ字表記の名前>]
    [プライベート IP アドレス]
      ※入力しない
    [再関連付け]
      ※チェックなし

9. Webサーバ(1c)構築
  9-1. Amazon EC2にSSH接続
    9-1-1. キーエペアのアクセス権の変更
    9-1-2. Amazon EC2にSSHで接続
  9-2. Web(Nginx)をインストール
  9-3. Nginxを起動
  9-4. ブラウザでサイト(Webサーバ)に接続
  9-5. サイト(1c)コンテンツを修正
  9-6. ブラウザでサイト(Webサーバ)に接続

10. ElasticIPを関連付けの解除と解放をする  
  10-1. Amazon EC2(a)のElasticIPの関連付け解除と解放
    1.左ペインで[Elastic IP]をクリック
    2.[Elastic IP アドレス]画面で、[eip-a-<※ローマ字表記の名前>]にチェック
    3.[アクション]>[Elastic IP アドレス関連付け解除]をクリック
    4.[Elastic IP アドレスの関連付けの解除]画面で[関連付け解除]をクリック
        このElastic IP アドレスの関連付けを解除すると、そのアドレスを別のリソースに再度関連付けすることができます。Elastic IP アドレスのアカウントへの割り当ては維持されます。
        実行中のインスタンスに１つのElastic IP(EIP)アドレスを無料で関連付けることができます。追加のEIP毎に按分ベースで課金されます。追加のEIPはAmazon VPVでのみ利用できます。
        Elastic IP アドレスを効率的に使用できるように、これらのIPアドレスが実行中のインスタンスに関連付けされていない場合、または停止したインスタンスやアタッチされていない
        ネットワークンターフェイスに関連付けされている場合、時間帯の少額の料金が課金されます。
    5.[Elastic IP アドレス]画面で、[eip-a-<※ローマ字表記の名前>]にチェック
    6.[アクション]>[Elastic IP アドレス解放]をクリック
    7.[Elastic IP アドレスの開放]画面で[解放]をクリック

  10-2. Amazon EC2(c)のElasticIPを解除する

11. ALBの構築  
  11-1. ALB用のセキュリティグループを作成
    1.左ペインで[セキュリティグループ]をクリック
    2.[セキュリティグループ]の画面で[セキュリティグループを作成]をクリック
    3.[セキュリティグループを作成]画面で以下を設定し、[セキュリティグループを作成]をクリック
      [基本的な詳細]
    
    
    
    
    
    
  11-2. ターゲットグループを作成する（EC2-aとEC2-cを選択）
    
  11-3. ALBを作成する（ターゲットグループを選択）
    
  11-4. ALBのDNS名へブラウザから接続できることの確認

12. リソースの削除  
  12-1. Amazon EC2(a)とAmazon EC2(c)を終了
  12-2. VPCを削除
  12-3. マイAMIを削除
  12-4. スナップショットを削除

